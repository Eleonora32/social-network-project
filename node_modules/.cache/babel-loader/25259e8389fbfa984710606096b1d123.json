{"ast":null,"code":"import albumsInitial, { setAlbumsToStorage } from '../../data/albums';\nimport { ADD_ALBUM, CHANGE_ADD_ALBUM, FETCH_ALBUM } from \"../typesList\"; // import personsInitial, {setPersonsToStorage} from \"../../data/persons\";\n\nexport const getAlbums = () => {\n  return async dispatch => {\n    try {\n      const obj = getObj();\n      await dispatch(fetchAlbums(obj));\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n};\nexport const addAlbum = album => {\n  return async dispatch => {\n    try {\n      const newAlbum = await addAlbumInServer(album);\n      await dispatch(addPostInState(newAlbum));\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n};\n\nconst fetchAlbums = data => {\n  return {\n    type: FETCH_ALBUM,\n    payload: data\n  };\n};\n\nconst addPostInState = albums => {\n  return {\n    type: ADD_ALBUM,\n    payload: albums\n  };\n};\n\nexport const setAlbumById = albumId => {\n  return dispatch => {\n    try {\n      dispatch(setAlbumByIdInState(albumId));\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n};\n\nconst setPersonByIdInState = personId => {\n  return {\n    type: SET_ALBUM_BY_ID,\n    payload: personId\n  };\n}; //Server Side\n\n\nconst getObj = () => {\n  return {\n    list: [...albumsInitial]\n  };\n};\n\nconst addAlbumInServer = album => {\n  const newAlbum = { ...album,\n    id: Date.now()\n  };\n  albumsInitial.push(newAlbum);\n  setAlbumsToStorage(albumsInitial);\n  return newAlbum;\n};","map":{"version":3,"sources":["/Users/olegdubovoj/Documents/TEL-RAN/social-network-project/src/store/actions/albums.js"],"names":["albumsInitial","setAlbumsToStorage","ADD_ALBUM","CHANGE_ADD_ALBUM","FETCH_ALBUM","getAlbums","dispatch","obj","getObj","fetchAlbums","e","console","log","message","addAlbum","album","newAlbum","addAlbumInServer","addPostInState","data","type","payload","albums","setAlbumById","albumId","setAlbumByIdInState","setPersonByIdInState","personId","SET_ALBUM_BY_ID","list","id","Date","now","push"],"mappings":"AAAA,OAAOA,aAAP,IAAuBC,kBAAvB,QAAgD,mBAAhD;AACA,SAAQC,SAAR,EAAmBC,gBAAnB,EAAqCC,WAArC,QAAuD,cAAvD,C,CACA;;AAGA,OAAO,MAAMC,SAAS,GAAG,MAAK;AAC1B,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAI;AACA,YAAMC,GAAG,GAAGC,MAAM,EAAlB;AACA,YAAMF,QAAQ,CAACG,WAAW,CAACF,GAAD,CAAZ,CAAd;AACH,KAHD,CAGE,OAAOG,CAAP,EAAU;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd;AACH;AACJ,GAPD;AAQH,CATM;AAWP,OAAO,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAC7B,SAAO,MAAMT,QAAN,IAAkB;AACrB,QAAI;AACA,YAAMU,QAAQ,GAAG,MAAMC,gBAAgB,CAACF,KAAD,CAAvC;AACA,YAAMT,QAAQ,CAACY,cAAc,CAACF,QAAD,CAAf,CAAd;AACH,KAHD,CAGE,OAAON,CAAP,EAAU;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd;AACH;AACJ,GAPD;AAQH,CATM;;AAWP,MAAMJ,WAAW,GAAGU,IAAI,IAAI;AACxB,SAAO;AACHC,IAAAA,IAAI,EAAEhB,WADH;AAEHiB,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CALD;;AAOA,MAAMD,cAAc,GAAGI,MAAM,IAAI;AAC7B,SAAO;AACHF,IAAAA,IAAI,EAAElB,SADH;AAEHmB,IAAAA,OAAO,EAAEC;AAFN,GAAP;AAIH,CALD;;AAOA,OAAO,MAAMC,YAAY,GAAGC,OAAO,IAAI;AACnC,SAAOlB,QAAQ,IAAI;AACf,QAAI;AACAA,MAAAA,QAAQ,CAAEmB,mBAAmB,CAACD,OAAD,CAArB,CAAR;AACH,KAFD,CAEE,OAAOd,CAAP,EAAU;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd;AACH;AACJ,GAND;AAOH,CARM;;AAUP,MAAMa,oBAAoB,GAAGC,QAAQ,IAAI;AACrC,SAAO;AACHP,IAAAA,IAAI,EAAEQ,eADH;AAEHP,IAAAA,OAAO,EAAEM;AAFN,GAAP;AAIH,CALD,C,CAOA;;;AAEA,MAAMnB,MAAM,GAAG,MAAM;AACjB,SAAO;AACHqB,IAAAA,IAAI,EAAE,CAAC,GAAG7B,aAAJ;AADH,GAAP;AAGH,CAJD;;AAMA,MAAMiB,gBAAgB,GAAGF,KAAK,IAAI;AAC9B,QAAMC,QAAQ,GAAG,EACb,GAAGD,KADU;AAEbe,IAAAA,EAAE,EAAEC,IAAI,CAACC,GAAL;AAFS,GAAjB;AAIAhC,EAAAA,aAAa,CAACiC,IAAd,CAAmBjB,QAAnB;AACAf,EAAAA,kBAAkB,CAACD,aAAD,CAAlB;AACA,SAAOgB,QAAP;AACH,CARD","sourcesContent":["import albumsInitial, {setAlbumsToStorage} from '../../data/albums'\nimport {ADD_ALBUM, CHANGE_ADD_ALBUM, FETCH_ALBUM} from \"../typesList\";\n// import personsInitial, {setPersonsToStorage} from \"../../data/persons\";\n\n\nexport const getAlbums = () =>{\n    return async dispatch => {\n        try {\n            const obj = getObj()\n            await dispatch(fetchAlbums(obj))\n        } catch (e) {\n            console.log(e.message)\n        }\n    }\n}\n\nexport const addAlbum = album => {\n    return async dispatch => {\n        try {\n            const newAlbum = await addAlbumInServer(album)\n            await dispatch(addPostInState(newAlbum))\n        } catch (e) {\n            console.log(e.message)\n        }\n    }\n}\n\nconst fetchAlbums = data => {\n    return {\n        type: FETCH_ALBUM,\n        payload: data\n    }\n}\n\nconst addPostInState = albums => {\n    return {\n        type: ADD_ALBUM,\n        payload: albums\n    }\n}\n\nexport const setAlbumById = albumId => {\n    return dispatch => {\n        try {\n            dispatch( setAlbumByIdInState(albumId) )\n        } catch (e) {\n            console.log(e.message)\n        }\n    }\n}\n\nconst setPersonByIdInState = personId => {\n    return {\n        type: SET_ALBUM_BY_ID,\n        payload: personId\n    }\n}\n\n//Server Side\n\nconst getObj = () => {\n    return {\n        list: [...albumsInitial]\n    }\n}\n\nconst addAlbumInServer = album => {\n    const newAlbum = {\n        ...album,\n        id: Date.now()\n    }\n    albumsInitial.push(newAlbum)\n    setAlbumsToStorage(albumsInitial)\n    return newAlbum\n}"]},"metadata":{},"sourceType":"module"}